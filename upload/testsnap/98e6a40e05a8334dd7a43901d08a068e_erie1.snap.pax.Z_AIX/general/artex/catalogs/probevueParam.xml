<?xml version="1.0" encoding="UTF-8"?>
<Catalog id="probevueParam" version="2.0">

 <ShortDescription><NLSCatalog catalog="artexcat.cat" setNum="37" msgNum="1">Configuration of dynamic trace sessions (ProbeVue).</NLSCatalog></ShortDescription>
 
 <Description><NLSCatalog catalog="artexcat.cat" setNum="37" msgNum="2">The ProbeVue tool analyzes the operating system and user programs by dynamically enabling the user-specified probes, starting the actions that are associated with the probes when they are triggered, and presenting the captured trace data. The ProbeVue dynamic tracing parameters and the ProbeVue sessions are configurable.</NLSCatalog></Description>
 
 <CfgMethod id="probevctrl">
  <Get type="nextboot">
   <Command>/usr/bin/probevctrl -l -p</Command>
   <Filter>sed -e 's/(//' -e 's/)//' -e 's/-//' | awk -F: '{ gsub(" ","",$1); print $1 " = " $2 }'</Filter>
   <Mask name="1" value="2">(.*) =  (.*)</Mask>
  </Get>

  <Get type="current">
   <Command>/usr/bin/probevctrl -l -t</Command>
   <Filter>sed -e 's/(//' -e 's/)//' -e 's/-//' | awk -F: '{ gsub(" ","",$1); print $1 " = " $2 }'</Filter>
   <Mask name="1" value="2">(.*) =  (.*)</Mask>
  </Get>
 </CfgMethod>

 <ParameterDef name="ProbevueFeatures" type="boolean" cfgmethod="probevctrl">
  <Description><NLSCatalog catalog="artexcat.cat" setNum="37" msgNum="3">Specifies whether the ProbeVue is enabled or disabled.</NLSCatalog></Description>

  <Get type="nextboot">
   <Filter>sed -e 's/(//' -e 's/)//' -e 's/-//' | awk -F: '{ gsub(" ","",$1); print $1 " = " $2 }' | sed -e 's/off/0/' | sed -e 's/on/1/'</Filter>
  </Get>

  <Get type="current">
   <Filter>sed -e 's/(//' -e 's/)//' -e 's/-//' | awk -F: '{ gsub(" ","",$1); print $1 " = " $2 }' | sed -e 's/off/0/' | sed -e 's/on/1/'</Filter>
  </Get>

  <Set type="permanent">
   <Command>/usr/bin/probevctrl -t -c trace=%a</Command>
   <Argument>`if [ %v1 = '1' ]; then echo "on"; else echo "off"; fi`</Argument>
  </Set>

  <Set type="nextboot">
   <Command>/usr/bin/probevctrl -p -c trace=%a</Command>
   <Argument>`if [ %v1 = '1' ]; then echo "on"; else echo "off"; fi`</Argument>
  </Set>
 </ParameterDef>

 <ParameterDef name="MAXpinnedmemoryforProbevueframeworkinMB" type="integer" cfgmethod="probevctrl">
  <Description><NLSCatalog catalog="artexcat.cat" setNum="37" msgNum="4">Specifies the maximum pinned memory in MB consumable by the entire ProbeVue framework.</NLSCatalog></Description>

  <Set type="current">
   <Command>/usr/bin/probevctrl -t -c max_total_mem_size=%a</Command>
   <Argument>%v1</Argument>
  </Set>

  <Set type="nextboot">
   <Command>/usr/bin/probevctrl -p -c max_total_mem_size=%a</Command>
   <Argument>%v1</Argument>
  </Set>
 </ParameterDef>

 <ParameterDef name="DefaultperCPUtracebuffersizeinKB" type="integer" cfgmethod="probevctrl">
  <Description><NLSCatalog catalog="artexcat.cat" setNum="37" msgNum="5">Specifies the default size of the per-processor trace buffers in KB. This is rounded to the next 4KB page.</NLSCatalog></Description>

  <Set type="current">
   <Command>/usr/bin/probevctrl -t -c default_buffer_size=%a</Command>
   <Argument>%v1</Argument>
  </Set>

  <Set type="nextboot">
   <Command>/usr/bin/probevctrl -p -c default_buffer_size=%a</Command>
   <Argument>%v1</Argument>
  </Set>
 </ParameterDef>

 <ParameterDef name="Defaulttracebufferreadrateinms" type="integer" cfgmethod="probevctrl">
  <Description><NLSCatalog catalog="artexcat.cat" setNum="37" msgNum="6">Specifies the default period in milliseconds that the ProbeVue buffers will be read by the trace consumer.</NLSCatalog></Description>

  <Set type="current">
   <Command>/usr/bin/probevctrl -t -c default_read_rate=%a</Command>
   <Argument>%v1</Argument>
  </Set>

  <Set type="nextboot">
   <Command>/usr/bin/probevctrl -p -c default_read_rate=%a</Command>
   <Argument>%v1</Argument>
  </Set>
 </ParameterDef>

 <ParameterDef name="SizeofperCPUcomputationstackinKB" type="integer" cfgmethod="probevctrl">
  <Description><NLSCatalog catalog="artexcat.cat" setNum="37" msgNum="7">Specifies the size of the per-processor computation stack in KB. This will be rounded to the next 4KB page.</NLSCatalog></Description>

  <Set type="current">
   <Command>/usr/bin/probevctrl -t -c stack_size=%a</Command>
   <Argument>%v1</Argument>
  </Set>

  <Set type="nextboot">
   <Command>/usr/bin/probevctrl -p -c stack_size=%a</Command>
   <Argument>%v1</Argument>
  </Set>
 </ParameterDef>

 <ParameterDef name="MAXconcurrentsessionsallowedforregularuser" type="integer" cfgmethod="probevctrl">
  <Description><NLSCatalog catalog="artexcat.cat" setNum="37" msgNum="8">Specifies the maximum concurrent sessions allowed for a regular user.</NLSCatalog></Description>

  <Set type="current">
   <Command>/usr/bin/probevctrl -t -n max_sessions=%a</Command>
   <Argument>%v1</Argument>
  </Set>

  <Set type="nextboot">
   <Command>/usr/bin/probevctrl -p -n max_sessions=%a</Command>
   <Argument>%v1</Argument>
  </Set>
 </ParameterDef>

 <ParameterDef name="MAXpinnedmemoryforregularusersessionsinMB" type="integer" cfgmethod="probevctrl">
  <Description><NLSCatalog catalog="artexcat.cat" setNum="37" msgNum="9">Specifies the maximum pinned memory in MB consumable by a ProbeVue session.</NLSCatalog></Description>

  <Set type="current">
   <Command>/usr/bin/probevctrl -t -n max_mem_size=%a</Command>
   <Argument>%v1</Argument>
  </Set>

  <Set type="nextboot">
   <Command>/usr/bin/probevctrl -p -n max_mem_size=%a</Command>
   <Argument>%v1</Argument>
  </Set>
 </ParameterDef>

 <ParameterDef name="MINtracebufferreadrateforregularuserinms" type="integer" cfgmethod="probevctrl">
  <Description><NLSCatalog catalog="artexcat.cat" setNum="37" msgNum="10">Specifies the minimum period in milliseconds that a regular user can request the trace consumer to read from its trace buffers.</NLSCatalog></Description>

  <Set type="current">
   <Command>/usr/bin/probevctrl -t -n min_read_rate=%a</Command>
   <Argument>%v1</Argument>
  </Set>

  <Set type="nextboot">
   <Command>/usr/bin/probevctrl -p -n min_read_rate=%a</Command>
   <Argument>%v1</Argument>
  </Set>
 </ParameterDef>

 <ParameterDef name="SizeofperCPUlocaltablesizeinKB" type="integer" cfgmethod="probevctrl">
  <Description><NLSCatalog catalog="artexcat.cat" setNum="37" msgNum="11">Specifies the size of the per-CPU local tables.</NLSCatalog></Description>

  <Set type="current">
   <Command>/usr/bin/probevctrl -t -c local_table_size=%a</Command>
   <Argument>%v1</Argument>
  </Set>

  <Set type="nextboot">
   <Command>/usr/bin/probevctrl -p -c local_table_size=%a</Command>
   <Argument>%v1</Argument>
  </Set>

  <ConstraintDef>
   <Description>bosboot</Description>
   <BuiltIn>bosboot</BuiltIn>
  </ConstraintDef>
 </ParameterDef>

  <ParameterDef name="Numberofpagefaultstobehandled" type="integer" cfgmethod="probevctrl">
  <Description><NLSCatalog catalog="artexcat.cat" setNum="37" msgNum="12">Specifies the number of page faults to be handled.</NLSCatalog></Description>

  <Set type="current">
   <Command>/usr/bin/probevctrl -t -c num_pagefaults=%a</Command>
   <Argument>%v1</Argument>
  </Set>

  <Set type="nextboot">
   <Command>/usr/bin/probevctrl -p -c num_pagefaults=%a</Command>
   <Argument>%v1</Argument>
  </Set>
 </ParameterDef>

  <ParameterDef name="Numberofthreadstobetraced" type="integer" cfgmethod="probevctrl">
  <Description><NLSCatalog catalog="artexcat.cat" setNum="37" msgNum="13">Specifies the number of threads that will be traced.</NLSCatalog></Description>

  <Set type="current">
   <Command>/usr/bin/probevctrl -t -c num_threads_traced=%a</Command>
   <Argument>%v1</Argument>
  </Set>

  <Set type="nextboot">
   <Command>/usr/bin/probevctrl -p -c num_threads_traced=%a</Command>
   <Argument>%v1</Argument>
  </Set>
 </ParameterDef>

</Catalog>

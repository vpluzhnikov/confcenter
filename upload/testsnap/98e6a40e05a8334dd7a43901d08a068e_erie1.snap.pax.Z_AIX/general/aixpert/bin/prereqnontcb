#!/usr/bin/ksh
# IBM_PROLOG_BEGIN_TAG 
# This is an automatically generated prolog. 
#  
# bos610 src/bos/usr/lib/security/aixpert/scripts/prereqnontcb.sh 1.1 
#  
# Licensed Materials - Property of IBM 
#  
# Restricted Materials of IBM 
#  
# COPYRIGHT International Business Machines Corp. 2007 
# All Rights Reserved 
#  
# US Government Users Restricted Rights - Use, duplication or 
# disclosure restricted by GSA ADP Schedule Contract with IBM Corp. 
#  
# @(#)39	1.1  src/bos/usr/lib/security/aixpert/scripts/prereqnontcb.sh, aixpert, bos610 4/12/07 10:25:46
# IBM_PROLOG_END_TAG 
#	COMPONENT_NAME		: (AIXPERT) prereqnontcb.sh
#	FUNCTIONS		: None
#	ORIGINS			: 27
#
#	Command Line Arguments	: None
#
#	OUTPUT			: None
#
#	Description		: This script checks the ODM to determine,
#				whether TCB is enabled or not.

# Check whether the system is TCB enabled or not.
tcb_state=`ODMDIR=/usr/lib/objrepos /usr/bin/odmget\
 -qattribute=TCB_STATE PdAt|/usr/bin/awk -F '"' '/deflt/ {print $2}'`

if [ "$tcb_state" != "tcb_enabled" ]
then
	exit 0
else
	exit 1
fi

